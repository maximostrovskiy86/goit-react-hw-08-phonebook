(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{20:function(t,e,n){t.exports={item:"Contacts_item__1cJ8I",button:"Contacts_button__1y40O"}},21:function(t,e,n){t.exports={section:"Section_section__2aN0g",title:"Section_title__2oIwe"}},22:function(t,e,n){t.exports={input:"Filter_input__3K0YO",label:"Filter_label__23XmH"}},34:function(t,e,n){t.exports={app:"App_app__1tA9O"}},36:function(t,e,n){},41:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),o=n.n(r),u=n(13),i=n.n(u),s=(n(41),n(6)),b=n(16),l=n(2),j=n(33),d=n.n(j),f=n(7),O=n(4),m=n(3),p=Object(l.b)("contacts/fetchContactsRequest"),h=Object(l.b)("contacts/fetchContactSuccess"),_=Object(l.b)("contacts/fetchContactError"),x=Object(l.b)("contact/addContactRequest"),C=Object(l.b)("contact/addContactSuccess"),v=Object(l.b)("contact/addContactError"),g=Object(l.b)("contact/deleteContactRequest"),N=Object(l.b)("contact/deleteContactSuccess"),y=Object(l.b)("contact/deleteContactError"),w=Object(l.b)("contact/changeFilter"),k=Object(l.c)([],(c={},Object(O.a)(c,h,(function(t,e){return e.payload})),Object(O.a)(c,C,(function(t,e){var n=e.payload;return[].concat(Object(b.a)(t),[n])})),Object(O.a)(c,N,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),S=Object(l.c)("",Object(O.a)({},w,(function(t,e){return e.payload}))),F=Object(l.c)(!1,(a={},Object(O.a)(a,x,(function(){return!0})),Object(O.a)(a,C,(function(){return!1})),Object(O.a)(a,v,(function(){return!1})),Object(O.a)(a,g,(function(){return!0})),Object(O.a)(a,N,(function(){return!1})),Object(O.a)(a,y,(function(){return!1})),Object(O.a)(a,p,(function(){return!0})),Object(O.a)(a,h,(function(){return!1})),Object(O.a)(a,_,(function(){return!1})),a)),I=Object(m.b)({items:k,filter:S,loading:F}),A=[].concat(Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),[d.a]),L=Object(l.a)({reducer:{contacts:I},middleware:A,devTools:!1}),D=n(34),U=n.n(D),q=n(23),E=n(8),R=n.n(E),z=n(19),J=n.n(z),Z=n(35),B=n(10),M=n.n(B);M.a.defaults.baseURL="http://localhost:3004";var V=function(){return function(){var t=Object(Z.a)(J.a.mark((function t(e){var n,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(p()),t.prev=1,t.next=4,M.a.get("/contacts");case 4:n=t.sent,c=n.data,console.log(c),e(h(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e(_(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(t){return function(e){e(x()),M.a.post("/contacts",t).then((function(t){e(C(t.data))})).catch((function(t){return e(v(t))}))}},G=function(t){return function(e){e(g()),M.a.delete("/contacts/".concat(t)).then((function(){e(N(t))})).catch((function(t){return e(y(t))}))}},H=n(14),K=function(t){return t.contacts.items},P=function(t){return t.contacts.filter},T={getContacts:K,getLoading:function(t){return t.contacts.loading},getFilter:P,getVisibleContacts:Object(H.a)([K,P],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},W=n(1),X=Object(s.b)((function(t){return{contacts:T.getContacts(t),isLoadingContacts:T.getLoading(t)}}),(function(t){return{addUser:function(e){return t(Y(e))}}}))((function(t){var e=t.addUser,n=t.contacts,c=t.isLoadingContacts,a=Object(r.useState)(""),o=Object(q.a)(a,2),u=o[0],i=o[1],s=Object(r.useState)(""),b=Object(q.a)(s,2),l=b[0],j=b[1],d=function(t){var e=t.target,n=e.value;switch(e.name){case"name":i(n);break;case"number":j(n);break;default:return}};return Object(W.jsxs)("form",{className:R.a.form,onSubmit:function(t){t.preventDefault(),n.some((function(t){return t.name.toLowerCase()===u.toLowerCase()}))?alert("".concat(u," is already in contacts.")):(e({name:u,number:l}),i(""),j(""))},children:[Object(W.jsxs)("label",{children:["Name:",Object(W.jsx)("input",{type:"text",name:"name",className:R.a.name,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,onChange:d,value:u})]}),Object(W.jsxs)("label",{children:["Number:",Object(W.jsx)("input",{type:"tel",name:"number",className:R.a.number,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,onChange:d,value:l})]}),Object(W.jsx)("button",{type:"submit",className:R.a.btn,children:"Add contact"}),c&&Object(W.jsx)("h2",{className:R.a.title,children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."})]})})),$=n(20),Q=n.n($),tt=function(t){var e=t.name,n=t.id,c=t.number,a=t.onRemoveUser;return Object(W.jsxs)("li",{className:Q.a.item,children:[Object(W.jsxs)("span",{children:[e,": "]}),c,Object(W.jsx)("button",{type:"button",className:Q.a.button,onClick:function(){return a(n)},children:"Delete"})]})},et=Object(s.b)((function(t){return{contacts:T.getVisibleContacts(t)}}),(function(t){return{removeUser:function(e){return t(G(e))},fetchContacts:function(){return t(V())}}}))((function(t){var e=t.contacts,n=t.removeUser,c=t.fetchContacts;return Object(r.useEffect)((function(){c()}),[]),Object(W.jsx)(W.Fragment,{children:e.length>0&&Object(W.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(W.jsx)(tt,{id:e,name:c,number:a,onRemoveUser:function(){return n(e)}},e)}))})})})),nt=n(21),ct=n.n(nt),at=function(t){var e=t.children,n=t.title;return Object(W.jsxs)("div",{className:ct.a.section,children:[Object(W.jsx)("h2",{className:ct.a.title,children:n.toUpperCase()}),e]})},rt=n(22),ot=n.n(rt),ut=Object(s.b)((function(t){return{value:T.getFilter(t)}}),(function(t){return{setFilter:function(e){return t(w(e.target.value))}}}))((function(t){var e=t.filter,n=t.setFilter;return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("label",{className:ot.a.label,children:["Find contacts by name:",Object(W.jsx)("input",{type:"text",name:"filter",className:ot.a.input,onChange:n,value:e})]})})})),it=n(36),st=n.n(it),bt=function(t){var e=t.children;return Object(W.jsx)("div",{className:st.a.Container,children:e})},lt=function(){return Object(W.jsx)("div",{className:U.a.app,children:Object(W.jsxs)(bt,{children:[Object(W.jsx)(at,{title:"Phonebook",children:Object(W.jsx)(X,{})}),Object(W.jsxs)(at,{title:"Contacts",children:[Object(W.jsx)(ut,{}),Object(W.jsx)(et,{})]})]})})};i.a.render(Object(W.jsx)(o.a.StrictMode,{children:Object(W.jsx)(s.a,{store:L,children:Object(W.jsx)(lt,{})})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"DataInput_form__1El21",title:"DataInput_title__38qsb",number:"DataInput_number__2m9S-",name:"DataInput_name__2_neu DataInput_number__2m9S-",btn:"DataInput_btn__3YWIG"}}},[[69,1,2]]]);
//# sourceMappingURL=main.bab2748b.chunk.js.map